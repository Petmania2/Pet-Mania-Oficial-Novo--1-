<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Perfil - Pet Mania</title>
    <link rel="stylesheet" href="/css/perfil.cliente.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navbar Superior -->
    <header>
        <nav class="navbar">
            <section class="navbar-container">
                <a href="/" class="logo" aria-label="Pet Mania - Voltar para home">
                    <i class="fas fa-paw"></i>
                    <span>Pet Mania</span>
                </a>
                <ul class="nav-menu" id="navMenu">
                    <li><a href="/painelcliente.ejs" class="nav-link" data-page="inicio">
                        <i class="fas fa-home"></i>
                        <span>Início</span>
                    </a></li>
                    <li><a href="/buscaradestradorcliente.ejs" class="nav-link" data-page="buscar">
                        <i class="fas fa-search"></i>
                        <span>Buscar Adestradores</span>
                    </a></li>
                    <li><a href="/meuspetscliente.ejs" class="nav-link" data-page="pets">
                        <i class="fas fa-dog"></i>
                        <span>Meus Pets</span>
                    </a></li>
                    <li><a href="/mensagenscliente.ejs" class="nav-link" data-page="mensagens">
                        <i class="fas fa-envelope"></i>
                        <span>Mensagens</span>
                        <span class="badge">3</span>
                    </a></li>
                    <li><a href="/perfilcliente.ejs" class="nav-link active" data-page="perfil">
                        <i class="fas fa-user"></i>
                        <span>Perfil</span>
                    </a></li>
                    <li><a href="/logout" class="nav-link nav-link-logout">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Sair</span>
                    </a></li>
                </ul>
                <button class="mobile-toggle" id="mobileToggle" aria-label="Abrir menu de navegação">
                    <i class="fas fa-bars"></i>
                </button>
            </section>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <section class="container">
            <!-- Header do Perfil -->
            <header class="profile-header">
                <section class="profile-cover"></section>
                <section class="profile-info">
                    <figure class="profile-avatar">
                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&h=200&fit=crop" alt="João Silva">
                    </figure>
                    <section class="profile-details">
                        <h1 class="profile-name"><%= cliente.nome || 'Usuário' %></h1>
                        <p class="profile-location">
                            <i class="fas fa-map-marker-alt"></i>
                            <%= cliente.cidade || 'Cidade não informada' %><% if (cliente.estado) { %>, <%= cliente.estado %><% } %>
                        </p>
                        <p class="profile-email">
                            <i class="fas fa-envelope"></i>
                            <%= cliente.email || 'Email não informado' %>
                        </p>
                        <section class="profile-actions">
                            <button class="btn btn-primary" id="editProfileBtn">
                                <i class="fas fa-edit"></i>
                                Editar Perfil
                            </button>
                            <button class="btn btn-secondary">
                                <i class="fas fa-cog"></i>
                                Configurações
                            </button>
                        </section>
                    </section>
                </section>
            </header>

            <!-- Informações Pessoais -->
            <section class="profile-section personal-info">
                <h2 class="section-title">Informações Pessoais</h2>
                <section class="info-grid">
                    <article class="info-card">
                        <h3>Telefone</h3>
                        <p><%= cliente.telefone || '(00) 00000-0000' %></p>
                    </article>
                    <article class="info-card">
                        <h3>Cidade</h3>
                        <p><%= cliente.cidade || 'Não informado' %></p>
                    </article>
                    <article class="info-card">
                        <h3>CPF</h3>
                        <p><%= cliente.cpf && cliente.cpf !== '00000000000' ? cliente.cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '$1.$2.$3-$4') : 'Não informado' %></p>
                    </article>
                    <article class="info-card">
                        <h3>Email</h3>
                        <p><%= cliente.email || 'Não informado' %></p>
                    </article>
                </section>
            </section>

            <!-- Meus Pets -->
            <section class="profile-section my-pets">
                <header class="section-header">
                    <h2 class="section-title">Meus Pets</h2>
                    <button class="btn btn-primary" id="addPetBtn">
                        <i class="fas fa-plus"></i>
                        Adicionar Pet
                    </button>
                </header>
                
                <section class="pets-grid">
                    <% if (pets && pets.length > 0) { %>
                        <% pets.forEach(pet => { %>
                            <article class="pet-card">
                                <figure class="pet-image">
                                    <i class="fas fa-dog" style="font-size: 80px; color: #FFA500;"></i>
                                </figure>
                                <section class="pet-info">
                                    <h3 class="pet-name"><%= pet.NOME_PET %></h3>
                                    <section class="pet-details">
                                        <div>
                                            <span class="detail-label">Raça:</span>
                                            <span class="detail-value"><%= pet.RACA_PET %></span>
                                        </div>
                                        <% if (pet.IDADE_PET) { %>
                                        <div>
                                            <span class="detail-label">Idade:</span>
                                            <span class="detail-value"><%= pet.IDADE_PET %></span>
                                        </div>
                                        <% } %>
                                        <% if (pet.SEXO_PET) { %>
                                        <div>
                                            <span class="detail-label">Sexo:</span>
                                            <span class="detail-value"><%= pet.SEXO_PET === 'macho' ? 'Macho' : 'Fêmea' %></span>
                                        </div>
                                        <% } %>
                                    </section>
                                    <% if (pet.PROBLEMA_COMPORTAMENTO) { %>
                                    <p class="pet-description"><%= pet.PROBLEMA_COMPORTAMENTO %></p>
                                    <% } %>
                                    <section class="pet-actions">
                                        <button class="btn-icon" onclick="window.location.href='/meuspetscliente.ejs'" aria-label="Editar pet">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                    </section>
                                </section>
                            </article>
                        <% }); %>
                    <% } else { %>
                        <p style="text-align: center; color: #666; padding: 2rem;">Nenhum pet cadastrado ainda.</p>
                    <% } %>
                </section>
            </section>



            <!-- Avaliações Deixadas -->
            <section class="profile-section my-reviews">
                <header class="section-header">
                    <h2 class="section-title">
                        <i class="fas fa-star"></i>
                        Minhas Avaliações
                    </h2>
                    <span class="section-badge">2 avaliações</span>
                </header>
                <section class="reviews-grid">
                    <article class="review-card">
                        <header class="review-header">
                            <figure class="trainer-avatar">
                                <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=60&h=60&fit=crop" alt="Ricardo Almeida">
                            </figure>
                            <section class="trainer-info">
                                <h3>Ricardo Almeida</h3>
                                <section class="rating">
                                    <section class="stars">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </section>
                                    <span class="rating-value">5.0</span>
                                </section>
                            </section>
                        </header>
                        <time class="review-date">10 de Outubro de 2025</time>
                        <blockquote class="review-text">"Ricardo foi excelente! Conseguiu ensinar ao Rex comandos básicos em poucas semanas. Muito profissional e dedicado. Recomendo!"</blockquote>
                        <footer class="review-footer">
                            <span class="service-tag">Obediência Básica</span>
                            <span class="pet-tag">Rex</span>
                        </footer>
                    </article>

                    <article class="review-card">
                        <header class="review-header">
                            <figure class="trainer-avatar">
                                <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=60&h=60&fit=crop" alt="Carlos Mendes">
                            </figure>
                            <section class="trainer-info">
                                <h3>Carlos Mendes</h3>
                                <section class="rating">
                                    <section class="stars">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star-half-alt"></i>
                                    </section>
                                    <span class="rating-value">4.5</span>
                                </section>
                            </section>
                        </header>
                        <time class="review-date">05 de Outubro de 2025</time>
                        <blockquote class="review-text">"Muito bom! Carlos tem muita experiência com comportamento agressivo. O Rex melhorou significativamente. Estou muito satisfeito."</blockquote>
                        <footer class="review-footer">
                            <span class="service-tag">Controle de Agressividade</span>
                            <span class="pet-tag">Rex</span>
                        </footer>
                    </article>
                </section>
            </section>

            <!-- Estatísticas Rápidas -->
            <section class="profile-section stats-section">
                <h2 class="section-title">
                    <i class="fas fa-chart-line"></i>
                    Estatísticas
                </h2>
                <section class="stats-grid">
                    <article class="stat-card">
                        <i class="fas fa-calendar-check stat-icon"></i>
                        <section class="stat-content">
                            <h3 class="stat-number">12</h3>
                            <p class="stat-label">Sessões Realizadas</p>
                        </section>
                    </article>
                    <article class="stat-card">
                        <i class="fas fa-paw stat-icon"></i>
                        <section class="stat-content">
                            <h3 class="stat-number">2</h3>
                            <p class="stat-label">Pets Cadastrados</p>
                        </section>
                    </article>
                    <article class="stat-card">
                        <i class="fas fa-star stat-icon"></i>
                        <section class="stat-content">
                            <h3 class="stat-number">4.8</h3>
                            <p class="stat-label">Avaliação Média</p>
                        </section>
                    </article>
                    <article class="stat-card">
                        <i class="fas fa-trophy stat-icon"></i>
                        <section class="stat-content">
                            <h3 class="stat-number">3</h3>
                            <p class="stat-label">Objetivos Alcançados</p>
                        </section>
                    </article>
                </section>
            </section>


        </section>
    </main>

    <!-- Modal de Edição -->
    <section class="modal" id="editModal">
        <section class="modal-content">
            <header class="modal-header">
                <h2>Editar Perfil</h2>
                <button class="modal-close" id="closeModal" aria-label="Fechar">
                    <i class="fas fa-times"></i>
                </button>
            </header>
            <form class="modal-form">
                <fieldset>
                    <label for="fullName">Nome Completo</label>
                    <input type="text" id="fullName" value="João Silva" required>
                </fieldset>
                <fieldset>
                    <label for="email">Email</label>
                    <input type="email" id="email" value="joao.silva@email.com" required>
                </fieldset>
                <fieldset>
                    <label for="phone">Telefone</label>
                    <input type="tel" id="phone" value="(11) 98765-4321" required>
                </fieldset>
                <fieldset>
                    <label for="location">Localização</label>
                    <input type="text" id="location" value="Barueri, São Paulo - SP" required>
                </fieldset>
                <section class="modal-actions">
                    <button type="button" class="btn btn-secondary" id="cancelBtn">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar Alterações</button>
                </section>
            </form>
        </section>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <section class="footer-container">
            <nav class="footer-links">
                <a href="#">Sobre</a>
                <a href="#">Termos de Uso</a>
                <a href="#">Política de Privacidade</a>
                <a href="#">Contato</a>
            </nav>
            <p class="footer-copyright">&copy; 2025 Pet Mania. Todos os direitos reservados.</p>
        </section>
    </footer>

    <script src="/js/perfil.cliente.js"></script>
</body>
</html>