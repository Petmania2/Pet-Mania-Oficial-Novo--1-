<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pet Mania - Planos do Adestrador</title>
    <link rel="stylesheet" href="/css/style-adestrador.css">
   
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar" id="navbar">
        <section class="container navbar-container">
            <a href="paineladestrador.ejs" class="logo">
    <img src="/imagens/petlogo.png" alt="Pet Mania" class="logo-img">
</a> 
            <button class="mobile-menu-btn" id="menuBtn">☰</button>
             <button class="mobile-menu-btn" id="menuBtn">☰</button>
      <ul class="nav-links" id="navLinks">
        <li><a href="paineladestrador.ejs"><i class="fas fa-home"></i> Início</a></li>
        <li><a href="clientesadestrador.ejs"><i class="fas fa-user-friends"></i> Clientes</a></li>
        <li><a href="mensagensadestrador.ejs"><i class="fas fa-comments"></i> Mensagens></a></li>
        <li><a href="agendamentoadestrador.ejs"><i class="fas fa-calendar-alt"></i> Agendamentos</a></li>
        <li><a href="perfiladestrador.ejs"><i class="fas fa-user-circle"></i> Meu Perfil</a></li>
        <li><a href="planosadestrador.ejs" class="active"><i class="fas fa-star"></i> Planos</a></li>
        <li><a href="index.ejs" class="btn btn-logout"><i class="fas fa-sign-out-alt"></i> Sair</a></li>
      </ul>
        </section>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <section class="container">
            <section class="welcome-section">
                <h1>Planos para Adestradores</h1>
                <p class="current-date">Sexta-feira, 28 de Fevereiro de 2025</p>
            </section>

            <section class="plans-info">
                <section class="card info-card">
                    <section class="card-icon"><i class="fas fa-info-circle"></i></section>
                    <section class="card-content">
                        <h3>Seu Plano Atual</h3>
                        <p class="plan-badge bronze">Bronze</p>
                        <p class="plan-expires">Expira em: <strong>28/03/2025</strong></p>
                        <p class="plan-message">Atualize seu plano para aumentar sua visibilidade e conseguir mais clientes!</p>
                    </section>
                </section>
            </section>

            <!-- Plans Section -->
            <section class="plans-section">
                <section class="plans-container">
                    <!-- Bronze Plan -->
                    <section class="plan-card bronze-plan">
                        <section class="plan-header">
                            <section class="plan-badge bronze">Bronze</section>
                            <h2 class="plan-title">Plano Bronze</h2>
                            <section class="plan-price">
                                <span class="currency">R$</span>
                                <span class="amount">49</span>
                                <span class="period">/mês</span>
                            </section>
                            <p class="plan-billing">ou R$539 anual (1 mês grátis)</p>
                        </section>
                        <section class="plan-features">
                            <ul>
                                <li><i class="fas fa-check"></i> Perfil visível no app</li>
                                <li><i class="fas fa-check"></i> Listagem básica de serviços</li>
                                <li><i class="fas fa-check"></i> Até 30 clientes</li>
                                <li><i class="fas fa-check"></i> Agendamento online</li>
                                <li><i class="fas fa-times"></i> Destaque nos resultados de busca</li>
                                <li><i class="fas fa-times"></i> Materiais educativos para clientes</li>
                                <li><i class="fas fa-times"></i> Suporte prioritário</li>
                                <li><i class="fas fa-times"></i> Sem taxa por agendamento</li>
                            </ul>
                        </section>
                        <section class="plan-actions">
                            <button class="btn btn-secondary btn-plan current-plan">Plano Atual</button>
                            <button class="btn btn-plan btn-renew">Renovar Plano</button>
                        </section>
                    </section>

                    <!-- Silver Plan -->
                    <section class="plan-card silver-plan recommended">
                        <section class="recommended-badge">Recomendado</section>
                        <section class="plan-header">
                            <section class="plan-badge silver">Prata</section>
                            <h2 class="plan-title">Plano Prata</h2>
                            <section class="plan-price">
                                <span class="currency">R$</span>
                                <span class="amount">89</span>
                                <span class="period">/mês</span>
                            </section>
                            <p class="plan-billing">ou R$979 anual (1 mês grátis)</p>
                        </section>
                        <section class="plan-features">
                            <ul>
                                <li><i class="fas fa-check"></i> Perfil visível no app</li>
                                <li><i class="fas fa-check"></i> Listagem completa de serviços</li>
                                <li><i class="fas fa-check"></i> Até 100 clientes</li>
                                <li><i class="fas fa-check"></i> Agendamento online</li>
                                <li><i class="fas fa-check"></i> Destaque nos resultados de busca</li>
                                <li><i class="fas fa-check"></i> Materiais educativos para clientes</li>
                                <li><i class="fas fa-times"></i> Suporte prioritário</li>
                                <li><i class="fas fa-times"></i> Sem taxa por agendamento</li>
                            </ul>
                        </section>
                        <section class="plan-actions">
                            <button class="btn btn-primary btn-plan">Assinar Plano</button>
                        </section>
                    </section>

                    <!-- Gold Plan -->
                    <section class="plan-card gold-plan">
                        <section class="plan-header">
                            <section class="plan-badge gold">Ouro</section>
                            <h2 class="plan-title">Plano Ouro</h2>
                            <section class="plan-price">
                                <span class="currency">R$</span>
                                <span class="amount">149</span>
                                <span class="period">/mês</span>
                            </section>
                            <p class="plan-billing">ou R$1639 anual (1 mês grátis)</p>
                        </section>
                        <section class="plan-features">
                            <ul>
                                <li><i class="fas fa-check"></i> Perfil visível no app</li>
                                <li><i class="fas fa-check"></i> Listagem premium de serviços</li>
                                <li><i class="fas fa-check"></i> Clientes ilimitados</li>
                                <li><i class="fas fa-check"></i> Agendamento online avançado</li>
                                <li><i class="fas fa-check"></i> Primeiro nas buscas locais</li>
                                <li><i class="fas fa-check"></i> Biblioteca completa de materiais</li>
                                <li><i class="fas fa-check"></i> Suporte prioritário 24/7</li>
                                <li><i class="fas fa-check"></i> Sem taxa por agendamento</li>
                            </ul>
                        </section>
                        <section class="plan-actions">
                            <button class="btn btn-primary btn-plan">Assinar Plano</button>
                        </section>
                    </section>
                </section>
            </section>

            <!-- FAQ Section -->
            <section class="faq-section">
                <h2><i class="fas fa-question-circle"></i> Perguntas Frequentes</h2>
                <section class="faq-list">
                    <section class="faq-item">
                        <section class="faq-question" data-toggle="faq1">
                            <h3>Como os planos podem aumentar meus ganhos?</h3>
                            <i class="fas fa-chevron-down"></i>
                        </section>
                        <section class="faq-answer" id="faq1">
                            <p>Os planos premium oferecem maior visibilidade no app, colocando você entre os primeiros resultados nas buscas locais. Além disso, você pode oferecer mais serviços e atender mais clientes, aumentando seu faturamento mensal em até 50%.</p>
                        </section>
                    </section>

                    <section class="faq-item">
                        <section class="faq-question" data-toggle="faq2">
                            <h3>Posso mudar de plano a qualquer momento?</h3>
                            <i class="fas fa-chevron-down"></i>
                        </section>
                        <section class="faq-answer" id="faq2">
                            <p>Sim! Você pode fazer upgrade do seu plano a qualquer momento e o valor será ajustado proporcionalmente. Para downgrades, a mudança ocorrerá após o término do período atual já pago.</p>
                        </section>
                    </section>

                    <section class="faq-item">
                        <section class="faq-question" data-toggle="faq3">
                            <h3>Os clientes sabem qual plano estou usando?</h3>
                            <i class="fas fa-chevron-down"></i>
                        </section>
                        <section class="faq-answer" id="faq3">
                            <p>Não, os clientes não têm acesso a informações sobre seu plano. Eles apenas notarão as diferenças em termos de serviços oferecidos e materiais disponíveis, mas isso aparece como parte do seu perfil profissional.</p>
                        </section>
                    </section>

                    <section class="faq-item">
                        <section class="faq-question" data-toggle="faq4">
                            <h3>O que acontece se eu não renovar meu plano?</h3>
                            <i class="fas fa-chevron-down"></i>
                        </section>
                        <section class="faq-answer" id="faq4">
                            <p>Se você não renovar seu plano, sua conta será convertida para a versão gratuita com recursos limitados. Você manterá o acesso aos seus clientes atuais, mas terá restrições para novos agendamentos e visibilidade reduzida na plataforma.</p>
                        </section>
                    </section>
                </section>
            </section>

            <!-- Testimonials -->
            <section class="testimonials-section">
                <h2><i class="fas fa-quote-left"></i> O que dizem os adestradores</h2>
                <section class="testimonials-container">
                    <section class="testimonial-card">
                        <section class="testimonial-avatar">
                            <img src="https://randomuser.me/api/portraits/men/45.jpg" alt="Fernando Gomes">
                        </section>
                        <section class="testimonial-content">
                            <p>"Desde que assinei o plano Ouro, minha agenda está sempre cheia. O destaque nas buscas fez toda a diferença!"</p>
                            <p class="testimonial-author">Fernando Gomes, São Paulo</p>
                            <section class="testimonial-rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </section>
                        </section>
                    </section>

                    <section class="testimonial-card">
                        <section class="testimonial-avatar">
                            <img src="https://randomuser.me/api/portraits/women/32.jpg" alt="Ana Beatriz">
                        </section>
                        <section class="testimonial-content">
                            <p>"Os materiais educativos do plano Prata são excelentes para compartilhar com os clientes. Aumentou muito a fidelização!"</p>
                            <p class="testimonial-author">Ana Beatriz, Rio de Janeiro</p>
                            <section class="testimonial-rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </section>
                        </section>
                    </section>
                </section>
            </section>
        </section>
    </main>

    <!-- Floating Notification Button -->
    <section class="notification-float">
        <i class="fas fa-bell"></i>
        <span class="notif-count">3</span>
    </section>

    <!-- Mercado Pago SDK -->
    <script src="https://sdk.mercadopago.com/js/v2"></script>

    <!-- Modal de Pagamento Customizado -->
    <section id="paymentModal" class="modal">
        <section class="modal-content">
            <span id="closeModal" class="close">&times;</span>
            <h2>Assinar Plano <span id="selectedPlan"></span></h2>
            <section class="payment-options">
                <label>
                    <input type="radio" name="paymentMethod" value="card" checked> Cartão de Crédito
                </label>
                <label>
                    <input type="radio" name="paymentMethod" value="pix"> Pix
                </label>
            </section>
            <section id="cardFormContainer">
                <form id="cardPaymentForm">
                    <section id="form-mp"></section>
                    <button type="submit" id="payCardBtn" class="btn btn-primary">Pagar com Cartão</button>
                </form>
            </section>
            <section id="pixContainer" style="display:none;">
                <button id="payPixBtn" class="btn btn-primary">Gerar QR Code Pix</button>
                <section id="pixQrCode" style="margin-top:20px;"></section>
            </section>
        </section>
    </section>

    <style>
        .modern-modal { border-radius: 18px; box-shadow: 0 8px 32px rgba(0,0,0,0.18); background: #fff; }
        .modern-payment { display: flex; flex-direction: column; align-items: center; padding: 2rem; }
        .modern-payment-visual { text-align: center; margin-bottom: 1.5rem; }
        .modern-payment-options { display: flex; gap: 2rem; margin-bottom: 1.5rem; }
        .modern-radio { font-size: 1.1em; background: #f8f8f8; border-radius: 8px; padding: 0.7em 1.2em; cursor: pointer; transition: background 0.2s; }
        .modern-radio input { display: none; }
        .modern-radio input:checked + span { color: #4a69bd; font-weight: bold; }
        .modern-summary-label { font-size: 1.2em; color: #888; margin-right: 0.5em; }
        .modern-summary-value { font-size: 1.5em; color: #4a69bd; font-weight: bold; }
        .btn-modern-pay { background: linear-gradient(90deg,#4a69bd,#6a89cc); color: #fff; border:none; border-radius: 8px; padding: 1em 2em; font-size: 1.2em; cursor:pointer; margin-top: 1.5em; box-shadow: 0 2px 8px rgba(74,105,189,0.12); transition: background 0.2s; }
        .btn-modern-pay:hover { background: linear-gradient(90deg,#6a89cc,#4a69bd); }
        .modern-payment-feedback { margin-top: 1.5em; font-size: 1.1em; text-align: center; }
        .modern-payment-feedback.success { color: #388e3c; background: #e8f5e9; border-radius: 6px; padding: 1em; }
        .modern-payment-feedback.error { color: #d32f2f; background: #ffebee; border-radius: 6px; padding: 1em; }
    </style>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const confirmBtn = document.getElementById('modernConfirmPayment');
        const feedback = document.getElementById('modernPaymentFeedback');
        const priceSpan = document.getElementById('modernSummaryPrice');
        const planNameSpan = document.getElementById('modernPlanName');
        const planTitle = document.getElementById('modernPlanTitle');
        const planDesc = document.getElementById('modernPlanDesc');
        // Atualiza preço e nome do plano conforme seleção
        document.querySelectorAll('.btn-plan').forEach(btn => {
            btn.addEventListener('click', function() {
                let plan = 'Prata'; let price = 'R$ 89,00'; let desc = 'Tenha destaque, mais clientes e recursos exclusivos!';
                if (this.closest('.plan-card').classList.contains('gold-plan')) { plan = 'Ouro'; price = 'R$ 149,00'; desc = 'Tenha prioridade máxima, clientes ilimitados e suporte 24/7!'; }
                if (this.closest('.plan-card').classList.contains('bronze-plan')) { plan = 'Bronze'; price = 'R$ 49,00'; desc = 'Comece sua jornada, visibilidade básica e até 30 clientes.'; }
                planNameSpan.textContent = plan;
                planTitle.innerHTML = 'Plano <span id="modernPlanName">' + plan + '</span>';
                planDesc.textContent = desc;
                priceSpan.textContent = price;
                feedback.style.display = 'none';
                document.getElementById('paymentModal').classList.add('active');
            });
        });
        document.querySelectorAll('input[name="period"]').forEach(radio => {
            radio.addEventListener('change', function() {
                let plan = planNameSpan.textContent;
                let price = 'R$ 89,00';
                if (plan === 'Ouro') price = this.value === 'monthly' ? 'R$ 149,00' : 'R$ 1639,00';
                if (plan === 'Prata') price = this.value === 'monthly' ? 'R$ 89,00' : 'R$ 979,00';
                if (plan === 'Bronze') price = this.value === 'monthly' ? 'R$ 49,00' : 'R$ 539,00';
                priceSpan.textContent = price;
            });
        });
        confirmBtn.addEventListener('click', async function() {
            confirmBtn.disabled = true;
            confirmBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processando...';
            feedback.style.display = 'none';
            // Dados do plano
            const descricao = planNameSpan.textContent + ' - ' + (document.querySelector('input[name="period"]:checked').value === 'monthly' ? 'Mensal' : 'Anual');
            const valor = priceSpan.textContent.replace('R$', '').replace(',', '.').trim();
            try {
                const response = await fetch('/criar-pagamento', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ descricao, valor })
                });
                const result = await response.json();
                if (result.checkout_url) {
                    feedback.className = 'modern-payment-feedback success';
                    feedback.innerHTML = '<i class="fas fa-check-circle"></i> Redirecionando para pagamento seguro...';
                    feedback.style.display = 'block';
                    setTimeout(() => { window.location.href = result.checkout_url; }, 1200);
                } else {
                    feedback.className = 'modern-payment-feedback error';
                    feedback.innerHTML = '<i class="fas fa-times-circle"></i> Erro ao criar pagamento. Tente novamente.';
                    feedback.style.display = 'block';
                    confirmBtn.disabled = false;
                    confirmBtn.innerHTML = '<i class="fas fa-arrow-right"></i> Assinar Agora';
                }
            } catch (error) {
                feedback.className = 'modern-payment-feedback error';
                feedback.innerHTML = '<i class="fas fa-times-circle"></i> Erro de conexão com Mercado Pago.';
                feedback.style.display = 'block';
                confirmBtn.disabled = false;
                confirmBtn.innerHTML = '<i class="fas fa-arrow-right"></i> Assinar Agora';
            }
        });
        document.getElementById('closeModal').addEventListener('click', function() {
            document.getElementById('paymentModal').classList.remove('active');
            confirmBtn.disabled = false;
            confirmBtn.innerHTML = '<i class="fas fa-arrow-right"></i> Assinar Agora';
            feedback.style.display = 'none';
        });
        document.getElementById('cancelPayment')?.addEventListener('click', function() {
            document.getElementById('paymentModal').classList.remove('active');
            confirmBtn.disabled = false;
            confirmBtn.innerHTML = '<i class="fas fa-arrow-right"></i> Assinar Agora';
            feedback.style.display = 'none';
        });
    });
    </script>
    <script src="/js/script-planos.js"></script>
    
</body>
</html>
